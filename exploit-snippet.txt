#!/usr/bin/env python
import pwn
import sys

# pwn.context.log_level = 'critical'
# pwn.context.log_level = 'debug'

binary = 'binary'
elf = pwn.ELF('./{}'.format(binary))

if len(sys.argv) > 1:
    addr_port = sys.argv[1].split(':')
    if len(addr_port) is not 2:
        pwn.log.error('You should pass addr:port as parameter when exploiting remote')
        exit(1)
    pwn.log.info('Exploiting remote {}'.format(':'.join(addr_port)))
    p = pwn.remote(addr_port[0], addr_port[1])
else:
    pwn.log.info('Exploiting local')
    p = elf.process()
